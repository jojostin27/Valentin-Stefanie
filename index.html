<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>San ValentÃ­n ğŸ’–</title>

<style>
*{
  box-sizing: border-box;
}

body{
  margin:0;
  font-family: 'Segoe UI', sans-serif;
  background: radial-gradient(circle at top, #ffc0cb, #ff4d6d);
  height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  color:white;
}

/* PANTALLAS */
.screen{
  display:none;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  padding:20px;
  width:100%;
  height:100%;
  animation: fade 0.6s ease;
}

.screen.active{
  display:flex;
}

@keyframes fade{
  from{opacity:0;}
  to{opacity:1;}
}

h1{
  font-size: clamp(1.6rem, 5vw, 2.2rem);
}

p{
  font-size: clamp(1rem, 4vw, 1.2rem);
}

/* BOTONES */
button{
  padding:12px 24px;
  font-size:1rem;
  border:none;
  border-radius:30px;
  margin:10px;
  cursor:pointer;
  transition:0.3s;
}

.yes{
  background:white;
  color:#ff4d6d;
  font-weight:bold;
}

.yes:hover{
  transform:scale(1.1);
}

.no{
  background:#222;
  color:white;
  position:absolute;
}

/* CORAZÃ“N LATIDO */
.latido{
  animation:latir 1s infinite;
  display:inline-block;
}

@keyframes latir{
  0%{transform:scale(1);}
  50%{transform:scale(1.3);}
  100%{transform:scale(1);}
}

/* FOTO */
.foto-final img{
  width:90%;
  max-width:320px;
  border-radius:20px;
  margin-top:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.3);
}

/* CARTA */
.carta{
  margin-top:20px;
  background:white;
  color:#ff4d6d;
  padding:20px;
  border-radius:20px;
  max-width:350px;
  display:none;
  box-shadow:0 10px 25px rgba(0,0,0,0.3);
}

/* FUEGOS */
.firework{
  position:fixed;
  width:6px;
  height:6px;
  border-radius:50%;
  animation:explode 1s ease-out forwards;
}

@keyframes explode{
  from{transform:scale(0);opacity:1;}
  to{transform:scale(8);opacity:0;}
}

/* PANTALLA EXTRA */
#extra h1{
  font-size: clamp(1.8rem, 6vw, 2.4rem);
}

#extra p{
  margin-top:15px;
  line-height:1.6;
}
</style>
</head>

<body>

<audio id="music" loop>
<source src="persona-favorita.mp3" type="audio/mpeg">
</audio>

<!-- INICIO -->
<div class="screen active" id="inicio">
<h1>San ValentÃ­n <span class="latido">â¤ï¸</span></h1>
<p>Si me amas dale a continuar</p>
<button class="yes" onclick="activar()">Continuar</button>
</div>

<!-- PREGUNTA 1 -->
<div class="screen" id="p1">
<h1>Â¿Quieres ser mi San ValentÃ­n mi Ayudina?</h1>
<button class="yes" onclick="ir('p2')">SÃ­</button>
<button class="no" id="no1">No</button>
</div>

<!-- PREGUNTA 2 -->
<div class="screen" id="p2">
<h1>Â¿EstÃ¡s 100% segura? ğŸ’–</h1>
<button class="yes" onclick="ir('p3')">SÃ­</button>
<button class="no" id="noBtn">No</button>
</div>

<!-- PREGUNTA 3 -->
<div class="screen" id="p3">
<h1>Â¿Si aceptas vamos a tener 10 hijos,asi que 100% segurağŸ’?</h1>
<button class="yes" onclick="ir('test')">SÃ­</button>
<button class="no" id="no3">No</button>
</div>

<!-- TEST DIVERTIDO -->
<div class="screen" id="test">
<h1>ğŸ’ Ãšltima prueba antes de ser oficialmente mi San ValentÃ­n</h1>
<p>Â¿CuÃ¡nto me amas?</p>

<button class="yes" onclick="respuesta()">Mucho â¤ï¸</button>
<button class="yes" onclick="respuesta()">Demasiado ğŸ’•</button>
<button class="yes" onclick="respuesta()">Infinito â™¾ï¸</button>
<button class="yes" onclick="respuesta()">MÃ¡s que infinito âœ¨</button>
</div>

<!-- RESPUESTA TROLL -->
<div class="screen" id="respuesta">
<h1>âŒ Respuesta incorrecta ğŸ˜Œ</h1>
<p>
La respuesta correcta era:<br><br>
â€œTe amo mÃ¡s que todo en este universo  
y en todos los universos posibles.â€
</p>

<button class="yes" onclick="ir('extra')">Aceptar destino ğŸ’–</button>
</div>

<!-- NUEVA PANTALLA EXTRA -->
<div class="screen" id="extra">
<h1>No solo quiero que seas mi San ValentÃ­n...</h1>

<p>
Quiero que seas mi compaÃ±era,<br>
mi lugar seguro,<br>
mi persona favorita,<br>
mi para siempre ğŸ’–
</p>

<button class="yes" onclick="ir('final')">Y quiero eso contigo ğŸ’</button>
</div>

<!-- FINAL -->
<div class="screen" id="final">
<h1>GRACIAS POR ACEPTAR ğŸ’–</h1>

<p>
Llevamos <strong>674 dÃ­as</strong> juntos â¤ï¸
</p>

<div class="foto-final">
<img src="nosotros.jpeg" alt="Nosotros">
</div>

<button class="yes" onclick="abrirCarta()">Abrir carta ğŸ’Œ</button>

<div id="carta" class="carta">
<p id="textoCarta"></p>
</div>

</div>

<script>

function activar(){
const music=document.getElementById("music");
music.volume=0;
music.play();

let v=0;
const subir=setInterval(()=>{
if(v<0.8){
v+=0.05;
music.volume=v;
}else{
clearInterval(subir);
}
},300);

ir("p1");
}

function ir(id){
document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");

if(id==="final"){
lanzarFuegos();
}
}

function respuesta(){
ir("respuesta");
}

function abrirCarta(){
const carta=document.getElementById("carta");
const texto=document.getElementById("textoCarta");
carta.style.display="block";

const mensaje=`Mi amor â¤ï¸

Estos 674 dÃ­as contigo han sido los mÃ¡s hermosos de mi vida.
Gracias por cada sonrisa, cada abrazo y cada momento juntos.

Prometo seguir eligiÃ©ndote todos los dÃ­as,
en cada risa, en cada dificultad y en cada sueÃ±o.

Te amo infinitamente ğŸ’–`;

let i=0;
texto.innerHTML="";

const escribir=setInterval(()=>{
texto.innerHTML+=mensaje[i]==="\n"?"<br>":mensaje[i];
i++;
if(i>=mensaje.length) clearInterval(escribir);
},35);
}

/* BOTON NO QUE HUYE */
const noBtn=document.getElementById("noBtn");
if(noBtn){
noBtn.addEventListener("mouseover",()=>{
noBtn.style.left=Math.random()*80+"%";
noBtn.style.top=Math.random()*80+"%";
});
}

/* FUEGOS */
function lanzarFuegos(){
setInterval(()=>{
const f=document.createElement("div");
f.className="firework";
f.style.left=Math.random()*100+"vw";
f.style.top=Math.random()*80+"vh";
f.style.background=`hsl(${Math.random()*360},100%,60%)`;
document.body.appendChild(f);
setTimeout(()=>f.remove(),1000);
},300);
}

</script>

</body>
</html>
