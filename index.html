<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>San Valent칤n 游눘</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: radial-gradient(circle at top, #ffc0cb, #ff4d6d);
  height: 100vh;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  text-align: center;
}

.screen {
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  padding: 20px;
  opacity: 0;
  transition: opacity 0.6s ease;
}

.screen.active {
  display: flex;
  opacity: 1;
}

h1 {
  font-size: 2em;
  margin-bottom: 20px;
}

p {
  font-size: 1.1em;
}

.subtexto {
  font-size: 0.9em;
  opacity: 0.9;
  margin-bottom: 20px;
}

button {
  padding: 14px 28px;
  font-size: 18px;
  border: none;
  border-radius: 25px;
  cursor: pointer;
  margin: 10px;
  transition: 0.3s;
}

.yes {
  background: white;
  color: #ff4d6d;
  font-weight: bold;
}

.yes:hover {
  transform: scale(1.1);
}

.no {
  background: #222;
  color: white;
  position: absolute;
}

/* Coraz칩n que late */
.latido {
  display: inline-block;
  animation: latir 1s infinite;
}

@keyframes latir {
  0% { transform: scale(1); }
  50% { transform: scale(1.25); }
  100% { transform: scale(1); }
}

/* Corazones flotando */
.heart {
  position: fixed;
  bottom: -20px;
  font-size: 20px;
  animation: float 6s linear infinite;
  opacity: 0.8;
  pointer-events: none;
}

@keyframes float {
  0% { transform: translateY(0); opacity: 1; }
  100% { transform: translateY(-110vh); opacity: 0; }
}

/* Imagen final */
.foto-final {
  margin-top: 25px;
}

.foto-final img {
  width: 300px;
  border-radius: 25px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.3);
  animation: aparecer 1.5s ease forwards;
}

@keyframes aparecer {
  from { opacity: 0; transform: scale(0.8); }
  to { opacity: 1; transform: scale(1); }
}

/* Fuegos artificiales */
.firework {
  position: fixed;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  pointer-events: none;
  animation: explode 1s ease-out forwards;
}

@keyframes explode {
  from { transform: scale(0); opacity: 1; }
  to { transform: scale(8); opacity: 0; }
}

/* Carta */
.carta {
  margin-top: 20px;
  max-width: 400px;
  background: white;
  color: #ff4d6d;
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.3);
  display: none;
  min-height: 120px;
}
</style>
</head>

<body>

<audio id="music" preload="auto" loop>
  <source src="persona-favorita.mp3" type="audio/mpeg">
</audio>

<div class="screen active" id="loading">
  <h1>San Valent칤n <span class="latido">仇벒잺</span></h1>
  <p class="subtexto">Si me amas dale a continuar</p>
  <button class="yes" onclick="activarTodo()">Continuar</button>
</div>

<div class="screen" id="q1">
  <h1>쯈uieres ser mi San Valent칤n mi Ayudina (stefanie el amor de mi vida)?</h1>
  <button class="yes" onclick="irA('q2')">S칤</button>
</div>

<div class="screen" id="q2">
  <h1>쮼st치s 100% segura 游눘?</h1>
  <button class="yes" onclick="irA('q3')">S칤</button>
  <button class="no" id="noBtn">No</button>
</div>

<div class="screen" id="q3">
  <h1>쯉i aceptas vamos a tener 10 hijos, realmente est치s 100% segura 游눘?</h1>
  <button class="yes" onclick="irA('final')">S칤</button>
</div>

<div class="screen" id="final">
  <h1>GRACIAS POR ACEPTAR 游눘</h1>

  <p>
    Llevamos <strong>674 d칤as</strong> juntos 仇벒잺<br><br>
    Este ser치 nuestro segundo San Valent칤n juntos,<br>
    cada a침o m치s unidos, am치ndonos mucho.<br>
    Eres la mejor persona del mundo<br>
    y me haces muy feliz.
  </p>

  <p style="margin-top:20px; font-size:1.2em;">
    Y si pudiera elegir mil veces...<br>
    siempre te elegir칤a a ti 仇벒잺
  </p>

  <div class="foto-final">
    <img src="nosotros.jpeg" alt="Nosotros">
  </div>

  <button class="yes" id="btnCarta" onclick="abrirCarta()">Abrir carta 游눏</button>

  <div id="carta" class="carta">
    <p id="textoCarta"></p>
  </div>

</div>

<script>
function activarTodo() {
  const music = document.getElementById("music");
  music.volume = 0;
  music.currentTime = 0;
  music.play();

  let vol = 0;
  const subir = setInterval(() => {
    if (vol < 0.8) {
      vol += 0.05;
      music.volume = vol;
    } else {
      clearInterval(subir);
    }
  }, 300);

  irA("q1");
  lanzarCorazones();
}

function irA(id) {
  document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");

  if(id === "final"){
    lanzarFuegos();
  }
}

function abrirCarta(){
  const carta = document.getElementById("carta");
  const textoElemento = document.getElementById("textoCarta");
  const boton = document.getElementById("btnCarta");

  boton.style.display = "none";
  carta.style.display = "block";

  const texto = `
Mi amor 仇벒잺

Estos 674 d칤as contigo han sido los m치s hermosos de mi vida.
Gracias por cada sonrisa, cada abrazo y cada momento juntos.

Prometo seguir eligi칠ndote todos los d칤as,
en cada risa, en cada dificultad y en cada sue침o.

Te amo infinitamente 游눘
  `;

  let i = 0;
  textoElemento.innerHTML = "";

  const intervalo = setInterval(() => {
    textoElemento.innerHTML += texto[i] === "\n" ? "<br>" : texto[i];
    i++;

    if (i >= texto.length) {
      clearInterval(intervalo);
    }
  }, 35);
}

const noBtn = document.getElementById("noBtn");
let escala = 1;
const frases = [
  "No te vas a librar de m칤 游땓",
  "Siempre estaremos juntos 游눗",
  "Te vas a casar conmigo 游눐"
];

noBtn.addEventListener("mouseover", () => {
  escala -= 0.1;
  if (escala < 0.4) escala = 0.4;

  noBtn.style.transform = `scale(${escala})`;
  noBtn.style.left = Math.random() * 80 + "%";
  noBtn.style.top = Math.random() * 80 + "%";
  noBtn.textContent = frases[Math.floor(Math.random() * frases.length)];
});

function lanzarCorazones() {
  setInterval(() => {
    const h = document.createElement("div");
    h.className = "heart";
    h.textContent = "仇벒잺";
    h.style.left = Math.random() * 100 + "vw";
    h.style.fontSize = Math.random() * 25 + 15 + "px";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 6000);
  }, 400);
}

function lanzarFuegos(){
  setInterval(() => {
    const fuego = document.createElement("div");
    fuego.className = "firework";
    fuego.style.left = Math.random() * 100 + "vw";
    fuego.style.top = Math.random() * 80 + "vh";
    fuego.style.background = `hsl(${Math.random()*360}, 100%, 60%)`;
    document.body.appendChild(fuego);
    setTimeout(() => fuego.remove(), 1000);
  }, 300);
}
</script>

</body>
</html>
